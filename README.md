# java-lotto

로또 미션 저장소

## 우아한테크코스 코드리뷰

- [온라인 코드 리뷰 과정](https://github.com/woowacourse/woowacourse-docs/blob/master/maincourse/README.md)

### 개요

> 입력한 금액에 따라서 로또 번호를 자동으로 생성하고, 당첨 결과를 알려주는 프로그램


### 목표

##### 공통 목표
- TDD에 맞게 개발 진행해보기
- 원시값 포장해보기
- Enum의 장점을 진심으로 느껴보기
- ‘어떻게’ 보다 ‘무엇을’
##### 야호
- Collection API 활용해보기
##### 포키
- 페어와 이해 수준을 잘 싱크하기
  - stream 전파하기

---

## 기능 요구사항 목록

### 절차에 따른 목록

- [x]  구입 금액을 입력받는다
   - [x]  [예외] 구입 금액은 숫자여야 한다
   - [x]  [예외] 구입 금액은 최소 1000원이어야 한다
   - [x]  [예외] 구입 금액은 1000원 단위로 나뉜다

```
구입금액을 입력해 주세요.
14000
```

- [x]  입력받은 금액을 로또의 금액(1000원)으로 나누어서 구매할 로또 수량을 구한다
- [x]  구매할 수동 로또 개수를 입력받는다

```
수동으로 구매할 로또 수를 입력해 주세요.
3
```

- [x]  수동 로또 번호를 입력받는다

```
수동으로 구매할 번호를 입력해 주세요.
8, 21, 23, 41, 42, 43
3, 5, 11, 16, 32, 38
7, 11, 16, 35, 36, 44
```

- [x]  구매한 로또 수량을 출력한다

```
수동으로 3장, 자동으로 11개를 구매했습니다.
```

- [x]  총 구매 수량에서 수동 로또를 제외한 수량만큼 로또 번호를 생성한다
   - [x]  로또 한 장에 총 6개 숫자가 포함된다
   - [x]  각 번호는 1 ~ 45 사이의 랜덤값이다
   - [x]  로또 한 장 내에는 중복된 숫자가 없어야 한다
   - [x]  로또 한 장 내에서 숫자는 오름차순으로 정렬된다
- [x]  구매한 모든 로또 번호를 수동, 자동 순으로 출력한다

```
[8, 21, 23, 41, 42, 43]
[3, 5, 11, 16, 32, 38]
[7, 11, 16, 35, 36, 44]
[1, 8, 11, 31, 41, 42]
[13, 14, 16, 38, 42, 45]
[7, 11, 30, 40, 42, 43]
[2, 13, 22, 32, 38, 45]
[23, 25, 33, 36, 39, 41]
[1, 3, 5, 14, 22, 45]
[5, 9, 38, 41, 43, 44]
[2, 8, 9, 18, 19, 21]
[13, 14, 18, 21, 23, 35]
[17, 21, 29, 37, 42, 45]
[3, 8, 27, 30, 35, 44]
```

- [x]  지난 주 당첨 번호를 입력받는다
   - [x]  [예외] 숫자만 입력해야 한다
   - [x]  [예외] 숫자가 6개여야 한다
   - [x]  [예외] 모든 숫자가 1 이상 45 이하여야 한다
   - [x]  [예외] 중복된 숫자가 있을 수 없다

```
지난 주 당첨 번호를 입력해 주세요.
1, 2, 3, 4, 5, 6
```

- [x]  보너스 번호를 입력받는다
   - [x]  [예외] 숫자만 입력해야 한다
   - [x]  [예외] 당첨 번호와 중복되면 안된다
   - [x]  [예외] 1 이상 45 이하여야 한다

```
보너스 볼을 입력해 주세요.
7
```

- [x]  당첨 통계를 구해서 출력한다
   - [x]  각 숫자의 일치 여부 구하기
   - [x]  일치하는 숫자의 개수 구하기
   - [x]  일치 개수에 따른 등수 구하기
   - [x]  만약 5개가 일치한다면, 보너스 볼과 일치하는지 확인하기

```
당첨 통계
---------
3개 일치 (5000원)- 1개
4개 일치 (50000원)- 0개
5개 일치 (1500000원)- 0개
5개 일치, 보너스 볼 일치(30000000원) - 0개
6개 일치 (2000000000원)- 0개
```

- [x]  총 당첨금을 구한다
   - [x]  각 등수별 당첨금을 구한다
- [x]  수익률을 구해서 출력한다
   - [x]  수익률 = 총 당첨금 / 구입 금액

```
총 수익률은 0.35입니다.
```

### 도메인 설계

##### InputView

- 구매 금액 입력
- 지난주 당첨 번호, 보너스 번호 입력받기

##### ResultView

- 생성한 로또 출력
- 로또 수량 출력하기
- 당첨 통계 출력
- 수익률 출력하기

##### Money

- 구매 금액을 검사
- 구입할 로또 수량 구하기

##### LottoNumber

- 로또 번호 입력값 검증

##### LottoNumberCache

- 랜덤 로또 번호 추첨

##### Lotto

- 로또 번호 수, 중복 검증
- 당첨 번호 개수, 보너스 번호 포함 여부 구하기

##### WinningLotto

- 당첨 번호들과 보너스 번호 검사
- 로또의 당첨 결과 구하기

##### LottosBuilder

- 구입할 수량에 맞게 로또 생성

##### Lottos

- 구입한 로또의 자동/수동 수량 구하기
- 모든 로또에 대해 일괄적으로 당첨 결과 구하기

##### Prize

- 당첨 결과에 따른 등수 구하기
- 한 등수의 총 당첨금 구하기

##### PrizeCountMap

- 각 등수별 당첨 개수
- 총 당첨금 구하기
- 수익률 구하기
